<style>
    /* Styling to integrate with your existing sidebar UI */
    .threads-container {
        padding: 0;
        margin-top: 15px;
        list-style: none;
        max-height: calc(100vh - 150px); 
        overflow-y: auto;
    }
    .thread-item {
        padding: 10px 15px;
        margin-bottom: 5px;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.2s;
        /* Truncate long titles */
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis; 
        font-size: 0.9em;
        color: #ddd; 
    }
    .thread-item:hover {
        background-color: rgba(255, 255, 255, 0.1); 
    }
    .thread-item.active {
        background-color: rgba(255, 255, 255, 0.2); 
        font-weight: bold;
    }
    .new-chat-btn {
        width: 100%;
        padding: 10px;
        margin-bottom: 10px;
        background-color: #4CAF50; 
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: bold;
    }
</style>

<div style="padding: 15px;">
    <button class="new-chat-btn" onclick="window.location.href='/new_chat'">+ New Chat</button>
</div>

<ul class="threads-container">
    {% for thread in threads %}
    <li class="thread-item {% if current_thread_id == thread.id %}active{% endif %}" 
        onclick="window.location.href='/chat/{{ thread.id }}'" 
        title="{{ thread.title }}">
        <i class="fa fa-comment-o"></i> {{ thread.title }}
        <span style="float: right; font-size: 0.75em; color: #999;">{{ thread.created_date }}</span>
    </li>
    {% else %}
    <li style="color: #999; padding: 10px 15px;">No previous chats.</li>
    {% endfor %}
</ul>